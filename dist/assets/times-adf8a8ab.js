import{aq as Y,ar as j,r as l,al as U,s as Q,j as A,_ as L,D as R,t as V,as as W,at as F,au as G,d as a}from"./index-edd193da.js";import{c as D,b as J,T as K,f as q,d as z,m as X,g as w}from"./styles.module-c628d2cb.js";import{e as $}from"./extendSxProp-5442dec5.js";const Z=["className","component"];function ee(h={}){const{themeId:x,defaultTheme:S,defaultClassName:d="MuiBox-root",generateClassName:y}=h,g=Y("div",{shouldForwardProp:i=>i!=="theme"&&i!=="sx"&&i!=="as"})(j);return l.forwardRef(function(p,r){const _=U(S),T=$(p),{className:C,component:v="div"}=T,I=Q(T,Z);return A.jsx(g,L({as:v,ref:r,className:R(C,y?y(d):d),theme:x&&_[x]||_},I))})}const te=V("MuiBox",["root"]),se=te,ae=W(),oe=ee({themeId:F,defaultTheme:ae,defaultClassName:se.root,generateClassName:G.generate}),ie=oe,ne=h=>l.createElement("svg",{width:9,height:11,viewBox:"0 0 9 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...h},l.createElement("path",{d:"M0.206054 5.15765L8.88006 0.246034L8.88006 10.0693L0.206054 5.15765Z",fill:"#0E5F8C"})),re=h=>l.createElement("svg",{width:9,height:11,viewBox:"0 0 9 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...h},l.createElement("path",{d:"M8.66528 5.1568L-0.00872097 10.0684L-0.00872044 0.245181L8.66528 5.1568Z",fill:"#0E5F8C"})),ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIsSURBVHgBlZRPchJREMb79UR0yQ0yuUFcW6XMUiiNrK0S5gQMJxBOIDmBQ6Vci2WFuJuhouvoCcATyFIw0233/MsbJkmRrnrwZnjv119/rx8G7oiPX6OW4zgnMnVlNGWsE05+wRZCv+utbttjapB59AYBP+QQCc43mmYOBWNMmPxNxrvQCmx6cfkemEYyXRHQKWxSFesy0Xl0jAYCAOypUmLy/I73swa7AdGUNhDYkJr6i8hFxkiV2kBzkxGvGHjWb7e6sEfkwCtV2Gu/ONJ3qB+OcdSjFW94WC7+HDVrAOud/9JTK8YydUVMP4VpBlHUYsOxbSg2MJrOF0sBuJkN33v4GP/IAQUlsO1NVJmI6WXK/sGxTviap7YKMqTPrgCis2+XA+AkVPVyKLPKOqAvKiaDORmsgY2lvUizirlpGUSkCla0EbN3e4whff50/uMQ4Z5AfLSEBwSm0iW2tD2yf1CPitJE4SnkJRceFuGgc6jfbzvPfkuzQ5ypgFYlDSVBWVrHC4qSoQF9exlz6lfaZ6hHbMDEYHBgHz0hdQX0tPBIgCNKyJO7OSnW5C3h5srzppVLjQ5GAp28az8fwh5h3QKoNK3/youVLkccnOm12h/kSmuUyasXfb4INVHq1TUN/ddepafUhoMnBwNJrH7qvfSl/PBWGGQ+jOSeKtCVsZbSU3PF6KaszhocOOaEx1qRvbcGK8qQ1m7J/9aJ7HSNgSazgnlBBLNdSBH/AcFGJlwD5/I1AAAAAElFTkSuQmCC";function fe(h){const{startTime:x,endTime:S,width:d=650,handleChange:y,defaultTimeValue:g}=h,B=a().hour(9).minute(11).second(11).toDate(),[i,p]=l.useState([x.toDate(),S.toDate()]),[r,_]=l.useState([B]),[T,C]=l.useState(!1);let v=null;const I=t=>{if(T){C(!1);return}let s=D(t);const o=q(s,r);if(o||r.length===1){const e=D(r),n=a(e[0].start).isSame(B)?[]:e,c=z(a(o),e);if(a(e[0].start).isSame(B)&&!c)return;s=c&&(v==null||v)?[...n,c]:X(s)}const m=s.flatMap(({start:e,end:n})=>[e.toDate(),n.toDate()]);v=null,_(m)},N=()=>{r.length!==1&&(v=v===null)},M=()=>{C(!0);const t=w(a(i[0]).hour()-1),s=w(a(i[1]).hour()-1);t.hour()+1===0?p([t.set("hour",12).toDate(),s.set("hour",24).toDate()]):t.hour()+1===24?p([w(11).toDate(),s.hour(23).toDate()]):p([t.toDate(),s.toDate()])},H=()=>{C(!0);const t=w(a(i[0]).hour()+1),s=w(a(i[1]).hour()+1);s.hour()===1?p([s.toDate(),i[0]]):p([t.toDate(),s.toDate()])},O=(t,s)=>{const o=s.reduce((m,{start:e,end:n})=>{if(e.isSame(t)||n.isSame(t)||t.isAfter(e)&&t.isBefore(n)){const c=e.isSame(t)?e.add(1,"hour"):e,b=n.isSame(t)?n.subtract(1,"hour"):n;c.isBefore(b)&&m.push({start:c,end:b})}else m.push({start:e,end:n});return m},[]).flatMap(({start:m,end:e})=>[m.toDate(),e.toDate()]);_(o)};return l.useEffect(()=>{document.querySelectorAll(".react_time_range__time_range_container .react_time_range__track").forEach(u=>{if(!u.querySelector(".border-blok")){const k=document.createElement("div");k.className="border-blok",u.appendChild(k)}});const s=document.querySelectorAll(".react_time_range__time_range_container .react_time_range__tick_label"),o=document.querySelector(".react_time_range__wrapper"),m=o==null?void 0:o.querySelector(".react_time_range__close_button_container"),e=document.createElement("div");m||(e.className="react_time_range__close_button_container",e.style.width=`${typeof d=="string"?d:`${d}px`}`,o==null||o.appendChild(e)),s.forEach(u=>{if(o){const f=document.createElement("button");f.type="button",f.className="react_time_range__close-button",f.style.top=`${u.scrollHeight}px`,f.style.width=`calc(100% / ${S.diff(x,"hour")})`;const k=D(r);f.onclick=()=>O(a(u.innerHTML,"HH:mm"),k);const E=document.createElement("img");E.src=ce,f.appendChild(E),e.appendChild(f)}u.classList.add("disabled")});const c=D(r).map(u=>({startTime:a(u.start).toString(),endTime:a(u.end).toISOString()})),b=a(B).format("YYYY-MM-DDTHH:mm:ss"),P=a(c[0].startTime).format("YYYY-MM-DDTHH:mm:ss");c.length===1&&b===P||y(c)},[r]),l.useEffect(()=>{if(g!=null&&g.length){const t=J(g);_(t)}},[g]),A.jsx(ie,{className:"react_time_range__wrapper",sx:{".react_time_range__time_range_container":{width:`${typeof d=="string"?d:`${d}px`} !important`},".react_time_range__tick_label":{width:`calc(100% / ${S.diff(x,"hour")}) !important`}},children:A.jsxs("div",{className:"react_time_range__time_content",children:[A.jsxs("button",{type:"button",onClick:M,children:[" ",A.jsx(ne,{})]}),A.jsx(K,{step:18e5/2,mode:1,selectedInterval:r,timelineInterval:i,onUpdateCallback:N,onChangeCallback:I}),A.jsxs("button",{type:"button",onClick:H,children:[" ",A.jsx(re,{})]})]})})}const Ae=[{id:1,time:"09:00",isActive:!1},{id:2,time:"10:00",isActive:!1},{id:3,time:"11:00",isActive:!1},{id:4,time:"12:00",isActive:!1},{id:5,time:"13:00",isActive:!1},{id:6,time:"14:00",isActive:!1},{id:7,time:"15:00",isActive:!1},{id:8,time:"16:00",isActive:!1},{id:9,time:"17:00",isActive:!1},{id:10,time:"18:00",isActive:!1},{id:11,time:"19:00",isActive:!1}],he=[{id:1,day:"ПН",isActive:!1},{id:2,day:"ВТ",isActive:!1},{id:3,day:"СР",isActive:!0},{id:4,day:"ЧТ",isActive:!1},{id:5,day:"ПТ",isActive:!1},{id:6,day:"СБ",isActive:!1},{id:0,day:"ВС",isActive:!1}];export{ne as S,fe as T,re as a,he as d,Ae as t};
