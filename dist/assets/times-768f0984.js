import{aq as I,ar as T,r as d,an as D,q as M,j as A,_ as O,t as j,o as P,as as U,at as Q,au as H,d as l}from"./index-fa80df68.js";import{c as w,T as R,f as V,b as L,m as W,g as S}from"./styles.module-749ea44e.js";import{e as F}from"./extendSxProp-ac3efb2b.js";const G=["className","component"];function J(i={}){const{themeId:p,defaultTheme:m,defaultClassName:g="MuiBox-root",generateClassName:n}=i,f=I("div",{shouldForwardProp:h=>h!=="theme"&&h!=="sx"&&h!=="as"})(T);return d.forwardRef(function(C,x){const r=D(m),B=F(C),{className:y,component:k="div"}=B,b=M(B,G);return A.jsx(f,O({as:k,ref:x,className:j(y,n?n(g):g),theme:p&&r[p]||r},b))})}const q=P("MuiBox",["root"]),K=q,Y=U(),z=J({themeId:Q,defaultTheme:Y,defaultClassName:K.root,generateClassName:H.generate}),X=z,$=i=>d.createElement("svg",{width:9,height:11,viewBox:"0 0 9 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i},d.createElement("path",{d:"M0.206054 5.15765L8.88006 0.246034L8.88006 10.0693L0.206054 5.15765Z",fill:"#0E5F8C"})),Z=i=>d.createElement("svg",{width:9,height:11,viewBox:"0 0 9 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i},d.createElement("path",{d:"M8.66528 5.1568L-0.00872097 10.0684L-0.00872044 0.245181L8.66528 5.1568Z",fill:"#0E5F8C"})),ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIsSURBVHgBlZRPchJREMb79UR0yQ0yuUFcW6XMUiiNrK0S5gQMJxBOIDmBQ6Vci2WFuJuhouvoCcATyFIw0233/MsbJkmRrnrwZnjv119/rx8G7oiPX6OW4zgnMnVlNGWsE05+wRZCv+utbttjapB59AYBP+QQCc43mmYOBWNMmPxNxrvQCmx6cfkemEYyXRHQKWxSFesy0Xl0jAYCAOypUmLy/I73swa7AdGUNhDYkJr6i8hFxkiV2kBzkxGvGHjWb7e6sEfkwCtV2Gu/ONJ3qB+OcdSjFW94WC7+HDVrAOud/9JTK8YydUVMP4VpBlHUYsOxbSg2MJrOF0sBuJkN33v4GP/IAQUlsO1NVJmI6WXK/sGxTviap7YKMqTPrgCis2+XA+AkVPVyKLPKOqAvKiaDORmsgY2lvUizirlpGUSkCla0EbN3e4whff50/uMQ4Z5AfLSEBwSm0iW2tD2yf1CPitJE4SnkJRceFuGgc6jfbzvPfkuzQ5ypgFYlDSVBWVrHC4qSoQF9exlz6lfaZ6hHbMDEYHBgHz0hdQX0tPBIgCNKyJO7OSnW5C3h5srzppVLjQ5GAp28az8fwh5h3QKoNK3/youVLkccnOm12h/kSmuUyasXfb4INVHq1TUN/ddepafUhoMnBwNJrH7qvfSl/PBWGGQ+jOSeKtCVsZbSU3PF6KaszhocOOaEx1qRvbcGK8qQ1m7J/9aJ7HSNgSazgnlBBLNdSBH/AcFGJlwD5/I1AAAAAElFTkSuQmCC";function oe({startTime:i,endTime:p,width:m=650}){const g=l().hour(9).minute(11).second(11).toDate(),[n,f]=d.useState([i.toDate(),p.toDate()]),[u,h]=d.useState([g]),[C,x]=d.useState(!1);let r=null;const B=s=>{if(C){x(!1);return}let e=w(s);const v=V(e,u);if(v||u.length===1){const t=w(u),a=l(t[0].start).isSame(g)?[]:t,o=L(l(v),t);if(l(t[0].start).isSame(g)&&!o)return;e=o&&(r==null||r)?[...a,o]:W(e)}const c=e.flatMap(({start:t,end:a})=>[t.toDate(),a.toDate()]);r=null,h(c)},y=()=>{u.length!==1&&(r=r===null)},k=()=>{x(!0);const s=S(l(n[0]).hour()-1),e=S(l(n[1]).hour()-1);s.hour()+1===0?f([s.set("hour",12).toDate(),e.set("hour",24).toDate()]):s.hour()+1===24?f([S(11).toDate(),e.hour(23).toDate()]):f([s.toDate(),e.toDate()])},b=()=>{x(!0);const s=S(l(n[0]).hour()+1),e=S(l(n[1]).hour()+1);e.hour()===1?f([e.toDate(),n[0]]):f([s.toDate(),e.toDate()])},E=(s,e)=>{const v=e.reduce((c,{start:t,end:a})=>{if(t.isSame(s)||a.isSame(s)||s.isAfter(t)&&s.isBefore(a)){const o=t.isSame(s)?t.add(1,"hour"):t,_=a.isSame(s)?a.subtract(1,"hour"):a;o.isBefore(_)&&c.push({start:o,end:_})}else c.push({start:t,end:a});return c},[]).flatMap(({start:c,end:t})=>[c.toDate(),t.toDate()]);h(v)};return d.useEffect(()=>{document.querySelectorAll(".react_time_range__time_range_container .react_time_range__track").forEach(a=>{if(!a.querySelector(".border-blok")){const _=document.createElement("div");_.className="border-blok",a.appendChild(_)}});const e=document.querySelector(".react_time_range__wrapper"),v=document.querySelectorAll(".react_time_range__time_range_container .react_time_range__tick_label"),c=e==null?void 0:e.querySelector(".react_time_range__close_button_container"),t=document.createElement("div");c||(t.className="react_time_range__close_button_container",t.style.width=`${typeof m=="string"?m:`${m}px`}`,e==null||e.appendChild(t)),v.forEach(a=>{if(e){const o=document.createElement("button");o.className="react_time_range__close-button",o.style.top=`${a.scrollHeight}px`,o.style.width=`calc(100% / ${p.diff(i,"hour")})`;const _=w(u);o.onclick=()=>E(l(a.innerHTML,"HH:mm"),_);const N=document.createElement("img");N.src=ee,o.appendChild(N),t.appendChild(o)}})},[u]),A.jsx(X,{className:"react_time_range__wrapper",sx:{".react_time_range__time_range_container":{width:`${typeof m=="string"?m:`${m}px`} !important`},".react_time_range__tick_label":{width:`calc(100% / ${p.diff(i,"hour")}) !important`}},children:A.jsxs("div",{className:"react_time_range__time_content",children:[A.jsxs("button",{type:"button",onClick:k,children:[" ",A.jsx($,{})]}),A.jsx(R,{step:18e5/2,mode:1,selectedInterval:u,timelineInterval:n,onUpdateCallback:y,onChangeCallback:B}),A.jsxs("button",{type:"button",onClick:b,children:[" ",A.jsx(Z,{})]})]})})}const ie=[{id:1,time:"09:00",isActive:!1},{id:2,time:"10:00",isActive:!1},{id:3,time:"11:00",isActive:!1},{id:4,time:"12:00",isActive:!1},{id:5,time:"13:00",isActive:!1},{id:6,time:"14:00",isActive:!1},{id:7,time:"15:00",isActive:!1},{id:8,time:"16:00",isActive:!1},{id:9,time:"17:00",isActive:!1},{id:10,time:"18:00",isActive:!1},{id:11,time:"19:00",isActive:!1}],ne=[{id:1,day:"ПН",isActive:!1},{id:2,day:"ВТ",isActive:!1},{id:3,day:"СР",isActive:!0},{id:4,day:"ЧТ",isActive:!1},{id:5,day:"ПТ",isActive:!1},{id:6,day:"СБ",isActive:!1},{id:0,day:"ВС",isActive:!1}];export{$ as S,oe as T,Z as a,ne as d,ie as t};
