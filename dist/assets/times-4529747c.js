import{aD as P,aE as Y,r,ax as $,t as W,j as g,n as q,C as F,l as G,aF as O,aG as U,aH as Z,d as a}from"./index-24cecf2c.js";import{c as y,b as z,T as J,f as K,d as Q,m as V,g as w}from"./styles.module-bec122d0.js";import{e as X}from"./extendSxProp-6a363c58.js";const ee=["className","component"];function te(v={}){const{themeId:d,defaultTheme:k,defaultClassName:x="MuiBox-root",generateClassName:u}=v,T=P("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Y);return r.forwardRef(function(_,f){const m=$(k),n=X(_),{className:p,component:C="div"}=n,A=W(n,ee);return g.jsx(T,q({as:C,ref:f,className:F(p,u?u(x):x),theme:d&&m[d]||m},A))})}const se=G("MuiBox",["root"]),ae=se,ie=O(),ne=te({themeId:U,defaultTheme:ie,defaultClassName:ae.root,generateClassName:Z.generate}),re=ne,oe=v=>r.createElement("svg",{width:9,height:11,viewBox:"0 0 9 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...v},r.createElement("path",{d:"M0.206054 5.15765L8.88006 0.246034L8.88006 10.0693L0.206054 5.15765Z",fill:"#0E5F8C"})),ce=v=>r.createElement("svg",{width:9,height:11,viewBox:"0 0 9 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...v},r.createElement("path",{d:"M8.66528 5.1568L-0.00872097 10.0684L-0.00872044 0.245181L8.66528 5.1568Z",fill:"#0E5F8C"}));function fe(v){const{id:d,startTime:k,endTime:x,workTimes:u,width:T=650,handleChange:I,defaultTimeValue:o}=v,_=a().hour(9).minute(11).second(11).toDate(),[f,m]=r.useState([k.toDate(),x.toDate()]),[n,p]=r.useState([_]),[C,A]=r.useState(!1);let D=null;const E=e=>{if(C){A(!1);return}let t=y(e);const i=K(t,n);if(u&&i&&!(u.filter(h=>i.isBetween(h.startTime,h.endTime,null,"[]")).length!==0))return;if(i||n.length===1){const s=y(n),h=a(s[0].start).isSame(_)?[]:s,l=Q(a(i),s);if(a(s[0].start).isSame(_)&&!l)return;t=l&&(D==null||D)?[...h,l]:V(t)}const c=t.flatMap(({start:s,end:h})=>[s.toDate(),h.toDate()]);D=null,p(c)},N=()=>{n.length!==1&&(D=D===null)},L=()=>{A(!0);const e=w(a(f[0]).hour()-1),t=w(a(f[1]).hour()-1);e.hour()+1===0?m([e.set("hour",12).toDate(),t.set("hour",24).toDate()]):e.hour()+1===24?m([w(11).toDate(),t.hour(23).toDate()]):m([e.toDate(),t.toDate()])},M=()=>{A(!0);const e=w(a(f[0]).hour()+1),t=w(a(f[1]).hour()+1);t.hour()===1?m([t.toDate(),f[0]]):m([e.toDate(),t.toDate()])},j=(e,t)=>{const i=t.filter(({start:c,end:s})=>!e.isBetween(c,s,null,"[]")).flatMap(({start:c,end:s})=>[c.toDate(),s.toDate()]);p(i)};return r.useEffect(()=>{const e=document.querySelector(`#time-range-${d} .react_time_range__time_range_container`);e&&e.querySelectorAll(".react_time_range__track").forEach((S,R)=>{if(!S.querySelector(".border-blok")){const b=document.createElement("div");b.className="border-blok",S.appendChild(b)}if(R%2===0&&!S.hasAttribute("data-contextmenu")){const b=H=>{H.preventDefault();const B=y(n);j(a(B[0].start,"HH:mm"),B)};S.setAttribute("data-contextmenu","true"),S.addEventListener("contextmenu",b,{once:!0})}});const i=y(n).map(l=>({startTime:a(l.start).toISOString(),endTime:a(l.end).toISOString()})),c=a(_).format("YYYY-MM-DDTHH:mm:ss"),s=a(i[0].startTime).format("YYYY-MM-DDTHH:mm:ss");i.length===1&&c===s||I(i)},[n,d]),r.useEffect(()=>{if(o!=null&&o.length){const e=z(o);p(e)}},[o]),r.useEffect(()=>{const e=document.querySelector(`#time-range-${d} .react_time_range__time_range_container`);u&&e&&Array.from(e.querySelectorAll(".react_time_range__tick_label")).forEach(i=>{const c=i.innerHTML.split(":"),s=a().set("hour",Number(c[0])).set("minute",Number(c[1]));u.filter(l=>s.isBetween(l.startTime,l.endTime,null,"[]")).length!==0||i.classList.add("disabled")})},[u,d]),g.jsx(re,{id:`time-range-${d}`,className:"react_time_range__wrapper",sx:{".react_time_range__time_range_container":{width:`${typeof T=="string"?T:`${T}px`} !important`},".react_time_range__tick_label":{width:`calc(100% / ${x.diff(k,"hour")}) !important`}},children:g.jsxs("div",{className:"react_time_range__time_content",children:[g.jsxs("button",{type:"button",onClick:L,children:[" ",g.jsx(oe,{})]}),g.jsx(J,{step:18e5/2,mode:1,selectedInterval:n,timelineInterval:f,onUpdateCallback:N,onChangeCallback:E}),g.jsxs("button",{type:"button",onClick:M,children:[" ",g.jsx(ce,{})]})]})})}const he=[{id:1,time:"09:00",isActive:!1},{id:2,time:"10:00",isActive:!1},{id:3,time:"11:00",isActive:!1},{id:4,time:"12:00",isActive:!1},{id:5,time:"13:00",isActive:!1},{id:6,time:"14:00",isActive:!1},{id:7,time:"15:00",isActive:!1},{id:8,time:"16:00",isActive:!1},{id:9,time:"17:00",isActive:!1},{id:10,time:"18:00",isActive:!1},{id:11,time:"19:00",isActive:!1}],ge=[{id:1,day:"ПН",isActive:!1},{id:2,day:"ВТ",isActive:!1},{id:3,day:"СР",isActive:!0},{id:4,day:"ЧТ",isActive:!1},{id:5,day:"ПТ",isActive:!1},{id:6,day:"СБ",isActive:!1},{id:0,day:"ВС",isActive:!1}];export{oe as S,fe as T,ce as a,ge as d,he as t};
